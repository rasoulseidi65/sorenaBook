<mat-sidenav-container class="sidenav-container" dir="rtl">
  <mat-sidenav
    #drawer
    class="sidenav"
    fixedInViewport="true"
    [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
    [mode]="(isHandset$ | async) ? 'over' : 'side'"
    [opened]="!(isHandset$ | async)">
    <mat-toolbar class="title-sidebar text-center">
      <div class="row w-100">
        <div class="col-12">
          <!-- <img [src]="localStorage.userJson.image"
               class="d-block img-fluid mb-2 mx-a mx-auto rounded-circle" width="50px"> -->
<img src="https://shakeriimagingcenter.com/wp-content/uploads/2020/10/495-4952535_create-digital-profile-icon-blue-user-profile-icon.png"
               class="d-block img-fluid mb-2 mx-a mx-auto rounded-circle" width="50px">

        </div>
      </div>
    </mat-toolbar>
    <hr style="margin-top: -10px"/>
    <mat-nav-list>
      <mat-list>
        <mat-list-item >
          <i class="pi pi-home pl-2 text-white" style="font-size: 1rem"></i> پیشخوان
        </mat-list-item>
        <mat-divider></mat-divider>

        <mat-list-item (click)="showSubmenu1 = !showSubmenu1" class="parent"
        >
          <span class="full-width" *ngIf="isExpanded1 || isShowing1">
            <i class="pi pi-folder-open pl-2 text-white" style="font-size: 1rem"></i>
            مدیریت محصولات
          </span>
          <mat-icon class="menu-button" [ngClass]="{'rotated' : showSubmenu1}"
                    style="position: absolute;left: 10px;"
                    *ngIf="isExpanded1 || isShowing1">expand_more
          </mat-icon>
        </mat-list-item>
        <div class="submenu mr-3" [ngClass]="{'expanded' : showSubmenu1}" >
          <mat-list-item [routerLink]="['products']">
            <i class="pi pi-file-o pl-2 text-white" style="font-size: 1rem"></i> لیست محصولات
          </mat-list-item>
          <mat-divider></mat-divider>
          <mat-list-item [routerLink]="['categories']">
            <i class="pi pi-list pl-4 text-white" style="font-size: 1rem"></i> مدیریت دسته بندی ها
          </mat-list-item>
          <mat-divider></mat-divider>
          <mat-list-item [routerLink]="['features']">
            <i class="pi pi-percentage pl-2 text-white" style="font-size: 1rem"></i>مدیریت ویژگی ها
          </mat-list-item>
          <mat-divider></mat-divider>

        </div>
        <mat-divider *ngIf="userType == 'admin'"></mat-divider>

        <mat-list-item (click)="showSubmenu2 = !showSubmenu2" class="parent"
        *ngIf="userType == 'admin'" >
          <span class="full-width" *ngIf="isExpanded2 || isShowing2">
            <i class="pi pi-exclamation-circle pl-2 text-white" style="font-size: 1rem"></i>
            مدیریت اخبار
          </span>
          <mat-icon class="menu-button" [ngClass]="{'rotated' : showSubmenu2}"
                    style="position: absolute;left: 10px;"
                    *ngIf="isExpanded2 || isShowing2">expand_more
          </mat-icon>
        </mat-list-item>
        <div class="submenu mr-3" [ngClass]="{'expanded' : showSubmenu2}"
             *ngIf="isShowing2 || isExpanded2">
          <mat-divider></mat-divider>
          <mat-list-item >
            <i class="pi pi-file pl-2 text-white" style="font-size: 1rem"></i>مدیریت خبر ها
          </mat-list-item>
        </div>
        <mat-divider *ngIf="userType == 'admin'"></mat-divider>

        <mat-list-item (click)="showSubmenu4 = !showSubmenu4" class="parent">
          <span class="full-width" *ngIf="isExpanded4 || isShowing4">
            <i class="pi pi-id-card pl-2 text-white" style="font-size: 1rem"></i>مدیریت مشتری</span>
          <mat-icon class="menu-button" [ngClass]="{'rotated' : showSubmenu4}"
                    style="position: absolute;left: 10px;"
                    *ngIf="isExpanded4 || isShowing4">expand_more
          </mat-icon>
        </mat-list-item>
        <div class="submenu mr-3" [ngClass]="{'expanded' : showSubmenu4}"
             *ngIf="isShowing4 || isExpanded4">
          <mat-list-item [routerLink]="['order']">
            <i class="pi pi-shopping-cart pl-2 text-white" style="font-size: 1rem"></i>مدیریت سفارشات
          </mat-list-item>
          <mat-divider></mat-divider>
          <mat-list-item >
            <i class="pi pi-eye pl-2 text-white" style="font-size: 1rem"></i>پیگیری سفارشات
          </mat-list-item>
          <mat-divider></mat-divider>
        </div>
        <mat-divider></mat-divider>

        <mat-list-item (click)="showSubmenu3 = !showSubmenu3" class="parent"
        *ngIf="userType == 'admin'" >
          <span class="full-width" *ngIf="isExpanded3 || isShowing3">
            <i class="pi pi-desktop pl-2 text-white" style="font-size: 1rem"></i>مدیریت صفحه اصلی</span>
          <mat-icon class="menu-button" [ngClass]="{'rotated' : showSubmenu3}"
                    style="position: absolute;left: 10px;"
                    *ngIf="isExpanded3 || isShowing3">expand_more
          </mat-icon>
        </mat-list-item>
        <div class="submenu mr-3" [ngClass]="{'expanded' : showSubmenu3}"
             *ngIf="isShowing3 || isExpanded3">
          <mat-list-item >
            <i class="pi pi-images pl-2 text-white" style="font-size: 1rem"></i>مدیریت اسلایدر
          </mat-list-item>
          <mat-divider></mat-divider>

        </div>
        <mat-divider *ngIf="userType == 'admin'"></mat-divider>

        <mat-list-item  >
          <i class="pi pi-users pl-2 text-white" style="font-size: 1rem"></i>مدیریت کاربران

        </mat-list-item>
        <mat-divider *ngIf="userType == 'admin'"></mat-divider>

        <mat-list-item  >
          <i class="pi pi-users pl-2 text-white" style="font-size: 1rem"></i>مدیریت ادمین ها
        </mat-list-item>
        <mat-divider *ngIf="userType == 'admin'"></mat-divider>

        <mat-list-item >
          <i class="pi pi-user-edit pl-2 text-white" style="font-size: 1rem"></i>پروفایل کاربری
        </mat-list-item>
        <mat-divider *ngIf="userType == 'admin'"></mat-divider>

        <mat-list-item (click) = "logOut()">
          <i class="pi pi-sign-out pl-2 text-white" style="font-size: 1rem"></i> خروج
        </mat-list-item>
      </mat-list>


    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>

    <p-toolbar>
      <div class="row col">
        <div class="col-1">
          <button
          type="button"
          aria-label="Toggle sidenav"
          mat-icon-button
          (click)="drawer.toggle()">
          <div class="pi pi-bars"></div>
        </button>
        </div>
        <div class="col">
            <span class="mx-3 text-white text-center">{{date}}</span>
            <span class="mx-3 text-white text-center">{{time}}</span>
        </div>
        <div class="col">
            <span class="mx-3 text-white text-center">{{ adminName }}</span>
            <span class="mx-3 text-white text-center">
              <a class="text-white" (click)="logOut()"><i class="pi pi-power-off text-white pl-2"></i>خروج</a>
            </span>
        </div>
      </div>
  </p-toolbar>

    <ng-content>

    </ng-content>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>

